# MediaMTX configuration file

api: yes
apiAddress: 0.0.0.0:9997

# RTSP server configuration
rtspAddress: :8554
rtspTransports: [udp, tcp]
rtpAddress: :8000
rtcpAddress: :8001

# RTMP server configuration
rtmpAddress: :1935

# HLS server configuration
hlsAddress: :8888
hlsAlwaysRemux: yes
hlsSegmentDuration: 8s
hlsSegmentCount: 20
hlsPartDuration: 4000ms # small manifest
hlsMuxerCloseAfter: 60s

# WebRTC server configuration
webrtcAddress: :8889

# Playback server configuration
playback: yes
playbackAddress: :9996

# Internal authentication.
# list of users.
authInternalUsers:
  # Default unprivileged user.
  # Username. 'any' means any user, including anonymous ones.
  - user: any
    # Password. Not used in case of 'any' user.
    pass:
    # IPs or networks allowed to use this user. An empty list means any IP.
    ips: []
    # List of permissions.
    permissions:
      # Available actions are: publish, read, playback, api, metrics, pprof.
      - action: publish
        # Paths can be set to further restrict access to a specific path.
        # An empty path means any path.
        # Regular expressions can be used by using a tilde as prefix.
        path:
      - action: read
        path:
      - action: playback
        path:
      - action: api
        path:

    # Default administrator.
    # This allows to use API, metrics and PPROF without authentication,
    # if the IP is localhost.
  - user: any
    pass:
    ips: ["127.0.0.1", "::1"]
    permissions:
      - action: metrics
      - action: pprof

paths:
  all:
